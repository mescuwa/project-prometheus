# Project Prometheus: An Autonomous AI Scientist for Drug Discovery

**Project Prometheus is an autonomous AI framework designed to accelerate early-stage scientific discovery.** The system leverages a multi-agent architecture to reproduce the entire scientific method: it performs live research, formulates novel hypotheses, conducts multi-stage virtual experiments, learns from the results and publishes its findings as a fully-fledged scientific report.

During a full mission run the AI autonomously designed and validated a candidate molecule that overcomes a well-known drug-resistance mechanism in an anti-cancer therapy. The final molecule achieved a **Composite Score of 8.746**, soaring past the baseline drug’s score of 5.311 and demonstrating sophisticated, multi-objective optimisation.

[![Prometheus Demo Run](./demo.gif)](./demo.gif)

*(The demo shows an accelerated, end-to-end mission where the AI establishes a baseline, reasons about the science, designs batches of molecules, validates the best candidate and iteratively improves its discoveries.)*

---

## The Scientific Mission: Overcoming Erlotinib Resistance

The inaugural mission targets the Epidermal Growth Factor Receptor (EGFR), a key protein in cancer development. The first-generation inhibitor **Erlotinib** is effective but often fails due to the T790M gate-keeper mutation.

Prometheus’ task was to understand this mechanism and design a novel molecule that balances three competing objectives:

* **Binding Affinity** – potency against the target.
* **Drug-Likeness (QED)** – favourable physicochemical properties.
* **Synthetic Accessibility (SA Score)** – feasibility of laboratory synthesis.

### Result

The AI discovered a new molecular scaffold that integrates a potent covalent *warhead*, a simplified, drug-like core and a novel linker that positions the molecule optimally inside the binding pocket. The champion achieved a **Composite Score of 8.746**.

![Champion Molecule](archive/v2.0/champion_molecule_v2.png)

### The AI-Generated Mission Report

At the conclusion of its discovery campaign, Prometheus's `Report Synthesiser Agent` autonomously attempts to write a full scientific paper detailing its methods, results, and conclusions. However, it's still a work in progress, and isn't perfect. I intend to integrate a multistage LLM mechanism, where each section is written per instance. This way, the report can be more granular and in-depth. However, in the interim, you may see what it's currently capable of. I will also attach the logs below, which provide a much more in-depth view of the current systems workflow at every step. 

**➡️ [Read the full scientific report generated by the AI for the v2.0.0 shakedown mission.](./archive/v2.0/prometheus_final_report_20250805_123610.md)**

---

**➡️ [Alternatively you may refer to the raw logs of this run which more details into the workflow including tools used in addition with the LLMs reasoning.](./archive/v2.0/prometheus_run_20250805_123610.log)**

---

## System Architecture

Prometheus is orchestrated by a central mission script that coordinates seven specialised agents:

1. **Knowledge Base Builder (`build_knowledge_base.py`)** – ingests PDF literature and constructs a LanceDB vector store to form the AI’s long-term memory.
2. **Research Agent** – performs live, targeted web research with OpenAI’s `o4-mini-deep-research` model to augment the static knowledge base at the start of each discovery cycle.
3. **Hypothesis Agent** – synthesises all available knowledge with Google’s **Gemini 2.5 Pro** to generate batches of novel, testable molecular hypotheses.
4. **Experimenter Agent** – executes high-throughput *in silico* screening, performing molecular docking simulations with **smina** and **Open Babel**.
5. **Scoring Agent** – calculates QED & SA scores and computes the final multi-objective Composite Score for every candidate.
6. **MD Validator Agent** – runs GPU-accelerated Molecular Dynamics simulations with **OpenMM** to confirm the stability of the best ligand–protein complexes.
7. **Report Synthesiser Agent** – collates all findings into a peer-review-ready scientific report in Markdown.

This workflow grounds large-language-model creativity in empirical, physics-based simulation data at every stage, dramatically accelerating discovery while minimising hallucination.

---

## Setup & Execution Guide

### 1. Prerequisites

* macOS or Linux
* Git
* [Miniforge](https://github.com/conda-forge/miniforge) (for `mamba`)

### 2. Environment Setup with Mamba

Create and activate the environment with all heavy scientific dependencies:

```bash
mamba create -n prometheus -c conda-forge python=3.10 rdkit smina openbabel "openmm=8.0.0" pdbfixer openmmforcefields
mamba activate prometheus
```

Your prompt will now begin with `(prometheus)`.

#### Optional: GPU Acceleration on Apple Silicon

For a dramatic speed-up in the MD validation step, follow the instructions in `docs/METAL_PLUGIN_SETUP.md` to compile and install the OpenMM-Metal plugin.

### 3. Project Configuration

```bash
# Clone the repository
git clone https://github.com/mescuwa/project-prometheus.git
cd project-prometheus

# Install remaining Python libraries
pip install -r requirements.txt
```

Create a `.env` file in the project root and add your API keys:

```text
GEMINI_API_KEY="YOUR_GOOGLE_API_KEY"
OPENAI_API_KEY="YOUR_OPENAI_API_KEY"
```

### 4. Build the Knowledge Base

Place your PDF literature into `data/literature/` and run:

```bash
python scripts/build_knowledge_base.py
```

### 5. Run an Autonomous Mission

```bash
python scripts/run.py
```

By default the configuration runs a quick, low-cost MD validation. For a full-precision run edit `config.toml` and set `quick_test = false` in the `[md_simulation]` section. All outputs – including the final Markdown report, 2-D images and CSV data – are written to a timestamped directory in `reports/`.

---

## Knowledge Base & Citations

Prometheus stands on the shoulders of giants. The AI's reasoning is guided by a knowledge base built from these seminal papers:

* Lynch, T. J., *et al.* (2004). *Activating Mutations in the Epidermal Growth Factor Receptor Underlying Responsiveness of Non–Small-Cell Lung Cancer to Gefitinib*. **NEJM**, 350(21), 2129–2139. https://doi.org/10.1056/NEJMoa040938
* Pao, W., *et al.* (2004). *EGF receptor gene mutations are common in lung cancers from "never smokers" and are associated with sensitivity of tumors to gefitinib and erlotinib*. **PNAS**, 101(36), 13306–13311. https://doi.org/10.1073/pnas.0405220101
* Pao, W., *et al.* (2005). *Acquired Resistance of Lung Adenocarcinomas to Gefitinib or Erlotinib Is Associated with a Second Mutation in the EGFR Kinase Domain*. **PLoS Medicine**, 2(3), e73. https://doi.org/10.1371/journal.pmed.0020073
* Engelman, J. A., *et al.* (2007). *MET Amplification Leads to Gefitinib Resistance in Lung Cancer by Activating ERBB3 Signaling*. **Science**, 316(5827), 1039–1043. https://doi.org/10.1126/science.1141478
* Jänne, P. A., *et al.* (2015). *Osimertinib or Platinum–Pemetrexed in EGFR T790M–Positive Lung Cancer*. **NEJM**, 372(18), 1689–1699. https://doi.org/10.1056/NEJMoa1411817

### Data Sources

* **Protein Structure:** Epidermal Growth Factor Receptor (EGFR) kinase domain coordinates obtained from the RCSB Protein Data Bank.  
  * **PDB ID:** 1M17  
  * Stamos, J., Sliwkowski, M. X., & Eigenbrot, C. (2002). *Structure of the EGFR kinase domain alone and in complex with a 4-anilinoquinazoline inhibitor*. **JBC**, 277(48), 46265-46272. https://doi.org/10.1074/jbc.M207135200